{"version":3,"sources":["accordion.js","filter.js","menu.js","modal.js","slider.js","utils.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["// аккордеон для блока FAQ\n\nif (document.querySelectorAll('.accordion__item').length) {\n  const accordionItems = document.querySelectorAll('.accordion__item');\n\n  accordionItems.forEach((item) => {\n    item.classList.remove('no-js');\n    item.addEventListener('click', () => {\n      const activeAccordionItem = document.querySelector(\n        '.accordion__item.active'\n      );\n\n      if (activeAccordionItem && activeAccordionItem !== item) {\n        activeAccordionItem.classList.toggle('active');\n      }\n\n      item.classList.toggle('active');\n    });\n\n    item.addEventListener('keydown', (evt) => {\n      if (evt.key === 'Enter') {\n        evt.preventDefault();\n        const activeAccordionItem = document.querySelector(\n          '.accordion__item.active'\n        );\n        if (activeAccordionItem && activeAccordionItem !== item) {\n          activeAccordionItem.classList.toggle('active');\n        }\n\n        item.classList.toggle('active');\n      }\n    });\n  });\n}\n\nif (document.querySelectorAll('.filter__accordion-item').length) {\n  const filterAccordionItems = document.querySelectorAll(\n    '.filter__accordion-item'\n  );\n\n  filterAccordionItems.forEach((item) => {\n    item.classList.remove('no-js');\n\n    const filterItemTitle = item.querySelector(\n      '.filter__accordion-item-title-wrap'\n    );\n\n    filterItemTitle.addEventListener('click', (evt) => {\n      if (\n        evt.target &&\n        evt.target.closest('.filter__accordion-item-title-wrap')\n      ) {\n        if (\n          !item\n            .querySelector('.filter__accordion-item-body')\n            .classList.contains('active') &&\n          !item.classList.contains('active')\n        ) {\n          item\n            .querySelector('.filter__accordion-item-body')\n            .classList.add('active');\n          item.classList.add('active');\n          item.blur();\n        } else if (\n          item\n            .querySelector('.filter__accordion-item-body')\n            .classList.contains('active')\n        ) {\n          item\n            .querySelector('.filter__accordion-item-body')\n            .classList.remove('active');\n          item.classList.remove('active');\n        }\n      }\n    });\n\n    const onFilterItemKeydown = (evt) => {\n      if (evt.key === 'Enter') {\n        evt.preventDefault();\n\n        if (\n          !item\n            .querySelector('.filter__accordion-item-body')\n            .classList.contains('active') &&\n          !item.classList.contains('active')\n        ) {\n          item\n            .querySelector('.filter__accordion-item-body')\n            .classList.add('active');\n          item.classList.add('active');\n        } else if (\n          item\n            .querySelector('.filter__accordion-item-body')\n            .classList.contains('active')\n        ) {\n          item\n            .querySelector('.filter__accordion-item-body')\n            .classList.remove('active');\n          item.classList.remove('active');\n        }\n      }\n    };\n\n    item.addEventListener('keydown', onFilterItemKeydown);\n\n    const filterItemInputs = item.querySelectorAll(\n      '.filter__accordion-item-input-wrap input'\n    );\n\n    filterItemInputs.forEach((input) => {\n      input.addEventListener('keydown', (evt) => {\n        if (evt.key === 'Enter') {\n          evt.preventDefault();\n          item.removeEventListener('keydown', onFilterItemKeydown);\n\n          if (evt.target.checked === true) {\n            evt.target.checked = false;\n          } else {\n            evt.target.checked = true;\n          }\n        }\n      });\n    });\n  });\n}\n","// аккордеон для фильтра\n\n(function () {\n  let filter = document.querySelector('.filter');\n  let filterButtons = document.querySelectorAll('.filter__item > button');\n\n  if (filter && filterButtons) {\n    filter.classList.remove('filter--nojs');\n\n    for (let i = 0; i < filterButtons.length; i++) {\n      filterButtons[i].addEventListener('click', () => {\n        filterButtons[i].parentNode.classList.toggle('filter__item--open');\n      });\n    }\n  }\n})();\n","// мобильное меню - начиная с планшетной версии\n(function () {\n  const menu = document.querySelector('.page-header');\n  const menuButton = document.querySelector('.page-header__hamburger button');\n\n  menu.classList.remove('no-js');\n\n  if (menu && menuButton) {\n    menuButton.addEventListener('click', () => {\n      if (menu.classList.contains('page-header--closed')) {\n        menu.classList.remove('page-header--closed');\n        menu.classList.add('page-header--opened');\n        document.body.style.overflow = 'hidden';\n      } else {\n        menu.classList.add('page-header--closed');\n        menu.classList.remove('page-header--opened');\n        document.body.removeAttribute('style');\n      }\n    });\n  }\n})();\n","(function () {\n\n  // Обработчик нажатия на кнопку Esc при открытой модалке\n  function escapeClickHandler(evt) {\n    if (evt.key === window.utils.KeyCode.ESCAPE) {\n      evt.preventDefault();\n      setModalVisibility(false);\n    }\n  }\n\n  // Установка видимости эл-та overlay и модалки\n  function setModalVisibility(visible, modal) {\n    if (visible) {\n      document.body.classList.add('overlay--open');\n      createOverlay();\n      document.addEventListener('keydown', escapeClickHandler);\n      modal.classList.add('modal-show');\n    } else {\n      document.body.classList.remove('overlay--open');\n      if(document.querySelector('.modal-show')){\n        document.querySelector('.modal-show').classList.remove('modal-show');\n      }\n      if(document.querySelector('.overlay')){\n        document.querySelector('.overlay').remove();\n      }\n      document.removeEventListener('keydowm', escapeClickHandler);\n    }\n  }\n\n  // Создание эл-та overlay со своей логикой (по клику)\n  function createOverlay() {\n    const overlay = document.createElement('div');\n\n    overlay.classList.add('overlay');\n    document.body.appendChild(overlay);\n\n    overlay.addEventListener('click', (overlayEvt) => {\n      if (overlayEvt.target === overlay) {\n        setModalVisibility(false);\n      }\n    });\n  }\n\n  // Обработчик открытия модалки\n  function modalOpenHandler(modal) {\n    setModalVisibility(true, modal);\n  }\n\n  // Обработчик закрытия модалки\n  function modalCloseHandler(event) {\n    event.preventDefault();\n    setModalVisibility(false);\n  }\n\n  window.addEventListener('resize', modalCloseHandler);\n\n\n  const modalLoginOpen = document.querySelector('.modal-button');\n  const modalLoginClose = document.querySelector('.modal__close--login');\n  const modalLogin = document.querySelector('.modal--login');\n  const email = document.querySelector('[id=email]');\n  // const loginForm = document.querySelector('.login__form');\n\n  const modalFilterOpen = document.querySelector('.catalog__filter-button');\n  const modalFilterClose = document.querySelector('.filter__modal-close');\n  const modalFilter = document.querySelector('.filter');\n\n\n  if (modalLoginOpen && modalLogin) {\n    modalLoginOpen.addEventListener('click', (event) => {\n      event.preventDefault();\n\n      modalOpenHandler(modalLogin);\n      email.focus();\n\n    });\n  }\n\n  if (modalLoginClose) {\n    modalLoginClose.addEventListener('click', modalCloseHandler);\n  }\n\n  if (modalFilterOpen && modalFilter) {\n    modalFilterOpen.addEventListener('click', (event) => {\n      event.preventDefault();\n      modalOpenHandler(modalFilter);\n    });\n  }\n\n  if (modalFilterClose) {\n    modalFilterClose.addEventListener('click', modalCloseHandler);\n  }\n})();\n","(function () {\n  if (!document.querySelector('.swiper-container')) {\n    // Прерывание функции\n    return;\n  }\n\n  new window.Swiper('.swiper-container', {\n    navigation: {\n      prevEl: '.slider__button--prev',\n      nextEl: '.slider__button--next',\n    },\n    pagination: {\n      el: '.slider__pagination',\n      bulletClass: 'slider__pagination-bullet',\n      bulletActiveClass: 'slider__pagination-bullet--active',\n      type: 'bullets',\n      clickable: true,\n      renderBullet: function (index, className) {\n        // todo\n        return `<span class=\"${className}\">${index + 1}</span>`;\n      },\n    },\n    grabCursor: true,\n    keyboard: {\n      enabled: true,\n      onlyInViewport: true,\n    },\n    autoheight: true,\n    slidesPerView: 'auto',\n    spaceBetween: 30,\n    slidesPerGroup: 4,\n    loop: true,\n    breakpoints: {\n      320: {\n        pagination: {\n          el: '.slider__pagination',\n          bulletClass: 'slider__pagination-bullet',\n          bulletActiveClass: 'slider__pagination-bullet--active',\n          type: 'fraction',\n          clickable: false,\n          renderFraction: function (currentClass, totalClass) {\n            // todo\n            return (\n              `<span class=\"${currentClass}\"></span>` +\n              `&nbsp;&nbsp;of&nbsp;&nbsp;` +\n              `<span class=\"${totalClass}\"></span>`\n            );\n          },\n        },\n        slidesPerView: 2,\n        slidesPerGroup: 2,\n      },\n      768: {\n        slidesPerView: 2,\n        slidesPerGroup: 2,\n        pagination: {\n          el: '.slider__pagination',\n          bulletClass: 'slider__pagination-bullet',\n          bulletActiveClass: 'slider__pagination-bullet--active',\n          type: 'fraction',\n          clickable: false,\n          renderFraction: function (currentClass, totalClass) {\n            // todo\n            return (\n              `<span class=\"${currentClass}\"></span>` +\n              `&nbsp;&nbsp;of&nbsp;&nbsp;` +\n              `<span class=\"${totalClass}\"></span>`\n            );\n          },\n        },\n      },\n      1024: {\n        pagination: {\n          el: '.slider__pagination',\n          bulletClass: 'slider__pagination-bullet',\n          bulletActiveClass: 'slider__pagination-bullet--active',\n          type: 'bullets',\n          clickable: true,\n          renderBullet: function (index, className) {\n            // todo\n            return `<span class=\"${className}\">${index + 1}</span>`;\n          },\n        },\n        slidesPerView: 3,\n        slidesPerGroup: 3,\n      },\n      1300: {\n        pagination: {\n          el: '.slider__pagination',\n          bulletClass: 'slider__pagination-bullet',\n          bulletActiveClass: 'slider__pagination-bullet--active',\n          type: 'bullets',\n          clickable: true,\n          renderBullet: function (index, className) {\n            // todo\n            return `<span class=\"${className}\">${index + 1}</span>`;\n          },\n        },\n        slidesPerView: 4,\n        slidesPerGroup: 4,\n      },\n    },\n  });\n})();\n","// утилитарный модуль - экспортирует общие функции и переменные для всех модулей\n\n(function () {\n  window.utils = {\n    KeyCode: {\n      BACKSPACE: 'Backspace',\n      ESCAPE: 'Escape',\n    },\n  };\n})();\n"]}