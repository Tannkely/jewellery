{"version":3,"sources":["faq.js","filter.js","menu.js","modal-filter.js","modal.js","slider.js","utils.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["// аккордеон для блока FAQ\n\n(function () {\n  let faqList = document.querySelector('.faq__list');\n\n  if (faqList) {\n    faqList.classList.remove('faq__list--nojs');\n\n    let toggleFaqItem = function (item) {\n      item.classList.toggle('faq__item--open');\n    };\n\n    faqList.addEventListener('click', (evt) => {\n      let faqItem = evt.target.closest('li');\n      toggleFaqItem(faqItem);\n    });\n  }\n\n})();\n","// аккордеон для фильтра\n\n(function () {\n\n  let filter = document.querySelector('.filter');\n  let filterButtons = document.querySelectorAll('.filter__item > button');\n\n  if (filter && filterButtons) {\n\n    filter.classList.remove('filter--nojs');\n\n    for (let i = 0; i < filterButtons.length; i++) {\n      filterButtons[i].addEventListener('click', (evt) => {\n        evt.target.parentNode.classList.toggle('filter__item--open');\n      });\n    }\n  }\n\n})();\n","// мобильное меню - начиная с планшетной версии\n\n(function () {\n  let pageHeader = document.querySelector('.page-header');\n  let headerToggle = document.querySelector('.page-header__toggle');\n\n  if (pageHeader && headerToggle) {\n    pageHeader.classList.remove('page-header--nojs');\n\n    headerToggle.addEventListener('click', () => {\n      if (pageHeader.classList.contains('page-header--closed')) {\n        pageHeader.classList.remove('page-header--closed');\n        pageHeader.classList.add('page-header--opened');\n      } else {\n        pageHeader.classList.add('page-header--closed');\n        pageHeader.classList.remove('page-header--opened');\n      }\n    });\n  }\n\n})();\n","","// модальные окна\n\n(function () {\n\n  let modalLoginOpen = document.querySelector('.modal-open--login');\n  let modalLogin = document.querySelector('.modal--login');\n  let modalLoginClose = document.querySelector('.modal__close--login');\n  let loginForm = document.querySelector('.login__form');\n\n  let modalFilterOpen = document.querySelector('.catalog__filter-button');\n  let modalFilter = document.querySelector('.filter');\n  let modalFilterClose = document.querySelector('.filter__modal-close');\n\n  let body = document.querySelector('body');\n\n  let email = document.querySelector('[id=email]');\n\n  let isStorage = true;\n  let emailStorage = '';\n\n  try {\n    emailStorage = localStorage.getItem('emailStorage');\n  } catch (err) {\n    isStorage = false;\n  }\n\n  let escapeClickHandler = function (evt) {\n    if (evt.key === window.utils.KeyCode.ESCAPE) {\n      evt.preventDefault();\n      // eslint-disable-next-line no-use-before-define\n      setVisible(false);\n    }\n  };\n\n  let setVisible = function (visible) {\n    if (visible) {\n      body.classList.add('overlay--open');\n      document.addEventListener('keydown', escapeClickHandler);\n    } else {\n      body.classList.remove('overlay--open');\n      document.querySelector('.modal-show').classList.remove('modal-show');\n      document.querySelector('.overlay').remove();\n      document.removeEventListener('keydowm', escapeClickHandler);\n\n      if (modalFilter && modalFilterClose) {\n        modalFilter.classList.remove('filter--modal-open');\n      }\n    }\n  };\n\n  let createOverlay = function () {\n    let overlay = document.createElement('div');\n    overlay.classList.add('overlay');\n    body.appendChild(overlay);\n\n    overlay.addEventListener('click', (overlayEvt) => {\n      if (overlayEvt.target === overlay) {\n        setVisible(false);\n      }\n    });\n  };\n\n  let modalOpenHandler = function (modal) {\n    modal.classList.add('modal-show');\n    createOverlay();\n    setVisible(true);\n  };\n\n  let modalCloseHandler = function (evt) {\n    evt.preventDefault();\n    setVisible(false);\n  };\n\n  if (modalLoginOpen && modalLogin) {\n    modalLoginOpen.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      modalOpenHandler(modalLogin);\n      email.focus();\n\n      if (emailStorage) {\n        email.value = emailStorage;\n      }\n    });\n  }\n\n  if (modalLoginClose) {\n    modalLoginClose.addEventListener('click', modalCloseHandler);\n  }\n\n  if (loginForm) {\n    loginForm.addEventListener('submit', (evt) => {\n      if (!email.value) {\n        evt.preventDefault();\n      } else {\n        if (isStorage) {\n          localStorage.setItem('emailStorage', email.value);\n        }\n      }\n    });\n  }\n\n  if (modalFilterOpen && modalFilter) {\n    modalFilterOpen.addEventListener('click', (evt) => {\n      evt.preventDefault();\n      modalOpenHandler(modalFilter);\n      modalFilter.classList.add('filter--modal-open');\n    });\n  }\n\n  if (modalFilterClose) {\n    modalFilterClose.addEventListener('click', modalCloseHandler);\n  }\n\n})();\n","if (document.querySelector('.swiper-container')) {\n\tnew Swiper('.swiper-container', {\n\t\tnavigation: {\n\t\t\tnextEl: '.swiper-button-next',\n\t\t\tprevEl: '.swiper-button-prev'\n\t\t},\n\t\tpagination: {\n\t\t\tel: '.swiper-pagination',\n\t\t\ttype: 'bullets',\n\t\t\tclickable: true,\n\t\t\trenderBullet: function (index, className) {\n\t\t\t\treturn '<span class=\"' + className + '\">' + (index + 1) + '</span>';\n\t\t\t}\n\t\t},\n\t\tgrabCursor: true,\n\t\tkeyboard: {\n\t\t\tenabled: true,\n\t\t\tonlyInViewport: true,\n\t\t},\n\t\tautoheight: true,\n\t\tslidesPerView: 'auto',\n\t\tspaceBetween: 30,\n\t\tslidesPerGroup: 4,\n\t\tloop: true,\n\t\tbreakpoints: {\n\t\t\t320: {\n\t\t\t\tpagination: {\n\t\t\t\t\tel: '.swiper-pagination',\n\t\t\t\t\ttype: 'fraction',\n\t\t\t\t\tclickable: true,\n\t\t\t\t\trenderFraction: function (currentClass, totalClass) {\n\t\t\t\t\t\treturn '<span class=\"' + currentClass + '\"></span>' +\n\t\t\t\t\t\t\t'&nbsp;&nbsp;of&nbsp;&nbsp;' +\n\t\t\t\t\t\t\t'<span class=\"' + totalClass + '\"></span>';\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tslidesPerView: 2,\n\t\t\t\tslidesPerGroup: 2,\n\t\t\t},\n\t\t\t768: {\n\t\t\t\tslidesPerView: 2,\n\t\t\t\tslidesPerGroup: 2,\n\t\t\t\tpagination: {\n\t\t\t\t\tel: '.swiper-pagination',\n\t\t\t\t\ttype: 'bullets',\n\t\t\t\t\tclickable: true,\n\t\t\t\t\trenderBullet: function (index, className) {\n\t\t\t\t\t\treturn '<span class=\"' + className + '\">' + (index + 1) + '</span>';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t1024: {\n\t\t\t\tslidesPerView: 3,\n\t\t\t\tslidesPerGroup: 3,\n\t\t\t},\n\t\t\t1300: {\n\t\t\t\tslidesPerView: 4,\n\t\t\t\tslidesPerGroup: 4,\n\t\t\t}\n\t\t}\n\t});\n}\n","// утилитарный модуль - экспортирует общие функции и переменные для всех модулей\n\n(function () {\n\n  window.utils = {\n    KeyCode: {\n      BACKSPACE: 'Backspace',\n      ESCAPE: 'Escape',\n    }\n  };\n\n})();\n"]}